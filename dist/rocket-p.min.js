/*! rocket-p 2015-05-05 */
!function(a,b){"function"==typeof define&&define.amd?define(["zepto","underscore","exports"],function(c,d,e){b(a,e,c,d)}):a.Rocket=b(a,{},a.Zepto||a.jQuery,_)}(this,function(a,b,c,d){function e(a,b){function c(a,b){return function(){var c=this._super;this._super=e.prototype[a]||function(){};var d=b.apply(this,arguments);return this._super=c,d}}var d,e=this;d=a&&Utils.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},Utils.extend(d,e,b);var f=function(){this.constructor=d};if(f.prototype=e.prototype,d.prototype=new f,a)for(var g in a)d.prototype[g]="function"==typeof a[g]&&"function"==typeof e.prototype[g]?c(g,a[g]):a[g];return d._superClass=e,d}var f=function(){function a(a){var b=typeof a;return"function"===b||"object"===b&&!!a}function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===F.call(a)}function d(a){return"[object Function]"===F.call(a)}function e(a){return"[object String]"===F.call(a)}function f(a){return"[object Arguments]"===F.call(a)}function g(a){return"[object RegExp]"===F.call(a)}function h(a){if(null==a)return!0;if(b(a)||e(a)||f(a))return 0===a.length;for(var c in a)if(u(a,c))return!1;return!0}function i(a,b,c,e){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;var f=F.call(a);if(f!==F.call(b))return!1;switch(f){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var g="[object Array]"===f;if(!g){if("object"!=typeof a||"object"!=typeof b)return!1;var h=a.constructor,j=b.constructor;if(h!==j&&!(d(h)&&h instanceof h&&d(j)&&j instanceof j)&&"constructor"in a&&"constructor"in b)return!1}for(var k=c.length;k--;)if(c[k]===a)return e[k]===b;if(c.push(a),e.push(b),g){if(k=a.length,k!==b.length)return!1;for(;k--;)if(!i(a[k],b[k],c,e))return!1}else{var l,m=v(a);if(k=m.length,v(b).length!==k)return!1;for(;k--;)if(l=m[k],!u(b,l)||!i(a[l],b[l],c,e))return!1}return c.pop(),e.pop(),!0}function j(a,b){return i(a,b,[],[])}function k(a,b,c){var e,f={};if(null==a)return f;if(d(b)){b=J(b,c);for(e in a){var g=a[e];b(g,e,a)&&(f[e]=g)}}else{var h=l(arguments,!1,!1,1);a=new Object(a);for(var i=0,j=h.length;j>i;i++)e=h[i],e in a&&(f[e]=a[e])}return f}function l(a,c,d,e){for(var g,h=[],i=0,j=e||0,k=a&&a.length;k>j;j++)if(g=a[j],g&&g.length>=0&&(b(g)||f(g))){c||(g=l(g,c,d));var m=0,n=g.length;for(h.length+=n;n>m;)h[i++]=g[m++]}else d||(h[i++]=g);return h}function m(a,b){return l(a,b,!1)}function n(a,b,c){if(null==a)return a;b=J(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=v(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a}function o(a){for(var b=v(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d}function p(b,c,e){return null==b?G:d(b)?J(b,c,e):a(b)?H(b):I(b)}function q(a,b,c){if(null==a)return[];b=p(b,c);for(var d,e=a.length!==+a.length&&v(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g}function r(a,b,c){if(null==a)return!1;b=p(b,c);var d,e,f=a.length!==+a.length&&v(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1}function s(c){return a(c)?b(c)?c.slice():K({},c):c}function t(b){if(!a(b))return b;for(var c=1,d=arguments.length;d>c;c++){var e=arguments[c];for(var f in e)void 0===b[f]&&(b[f]=e[f])}return b}function u(a,b){return null!=a&&Object.prototype.hasOwnProperty.call(a,b)}function v(b){if(!a(b))return[];if(Object.keys)return Object.keys(b);var c=[];for(var d in b)u(b,d)&&c.push(d);return c}function w(b){if(!a(b))return[];var c=[];for(var d in b)c.push(d);return c}function x(a){return function(b){var c=arguments.length;if(2>c||null==b)return b;for(var d=0;c>d;d++)for(var e=arguments[d],f=a(e),g=f.length,h=0;g>h;h++){var i=f[h];b[i]=e[i]}return b}}function y(a,b,c){var e=null==a?void 0:a[b];return void 0===e&&(e=c),d(e)?e.call(a):e}function z(a){var b=++L+"";return a?a+b:b}function A(){return c.ajax.apply(c,arguments)}function B(a,b,c){var d=M[a];N.method=a,N.model=b,N.options=c,Utils.defaults(c||(c={}),{emulateHTTP:!1,emulateJSON:!1});var e={type:d,dataType:"json"};if(c.url||(e.url=y(b,"url")||C()),null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(e.contentType="application/json",e.data=JSON.stringify(c.attrs||b.toJSON(c))),c.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{}),c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){e.type="POST",c.emulateJSON&&(e.data._method=d);var f=c.beforeSend;c.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",d),f?f.apply(this,arguments):void 0}}"GET"!==e.type&&(e.processData=!1);var g=c.error;c.error=function(a,b,d){c.textStatus=b,c.errorThrown=d,g&&g.apply(this,arguments)},N.ajaxData=e.data;var h=c.xhr=Utils.ajax(K(e,c));return b.trigger("request",b,h,c),h}function C(){throw new Error('A "url" property or function must be specified')}function D(a){var b=c(a),a=b.get(0);if("none"==b.css("display"))return"none";for(var d=a,e=d.parentNode;e&&1==e.nodeType;){if("none"==e.style.display)return"none";d=e,e=d.parentNode}return b.css("display")}function E(a){return"none"!=D(a)}var F=Object.prototype.toString,G=function(a){return a},H=function(a){var b=o(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},I=function(a){return function(b){return null==b?void 0:b[a]}},J=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},K=x(w),L=0,M={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"},N={},O=function(){function a(a,e,f,g){var h=c(".global-tip"),i=c(window).height();switch(g=g||1500,e||(e=0),f||(f=0),0==h.length&&(h=c('<div class="global-tip"><span></span></div>'),c("body").prepend(h)),d&&b&&clearTimeout(b),d=!0,h.find("span").text(a),e){case 0:h.css("text-align","center");break;case 1:h.css("text-align","left");break;case 2:h.css("text-align","right")}switch(f){case 0:h.css("top",i/2+"px");break;case 1:h.css("top","10px");break;case 2:h.css("bottom","10px")}h.css({"-webkit-transition":"none",opacity:1}),h.show(),b=setTimeout(function(){h.animate({opacity:0},300,"",function(){h.hide(),h.css({"-webkit-transition":"none",opacity:1}),d=!1})},g)}var b,d;return a}();return{isObject:a,isFunction:d,isArray:b,isEqual:j,isEmpty:h,isRegExp:g,keys:v,defaults:t,extend:K,result:y,pick:k,flatten:m,each:n,map:q,any:r,clone:s,has:u,uniqueId:z,ajax:A,sync:B,syncArgs:N,tip:O,isReallyDisplay:E}}();Utils=f.extend(d,f);var g=function(){function a(a,b,c,e){if(!c)return!0;if("object"==typeof c){for(var f in c)a[b].apply(a,[f,c[f]].concat(e));return!1}if(d.test(c)){for(var g=c.split(d),h=0,i=g.length;i>h;h++)a[b].apply(a,[g[h]].concat(e));return!1}return!0}function b(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}}var c=[].slice,d=/\s+/,e={on:function(b,c,d){if(!a(this,"on",b,[c,d])||!c)return this;this._events||(this._events={});var e=this._events[b]||(this._events[b]=[]);return e.push({callback:c,context:d,ctx:d||this}),this},once:function(b,c,d){if(!a(this,"once",b,[c,d])||!c)return this;var e=this,f=function(){e.off(b,f),c.apply(this,arguments)};return f._callback=c,this.on(b,f,d)},off:function(b,c,d){if(!this._events||!a(this,"off",b,[c,d]))return this;if(!b&&!c&&!d)return this._events=void 0,this;for(var e=b?[b]:Utils.keys(this._events),f=0,g=e.length;g>f;f++){b=e[f];var h=this._events[b];if(h)if(c||d){for(var i=[],j=0,k=h.length;k>j;j++){var l=h[j];(c&&c!==l.callback&&c!==l.callback._callback||d&&d!==l.context)&&i.push(l)}i.length?this._events[b]=i:delete this._events[b]}else delete this._events[b]}return this},trigger:function(d){if(!this._events)return this;var e=c.call(arguments,1);if(!a(this,"trigger",d,e))return this;var f=this._events[d],g=this._events.all;return f&&b(f,e),g&&b(g,arguments),this},listenTo:function(a,b,c){var d=this._listeningTo||(this._listeningTo={}),e=a._listenId||(a._listenId=Utils.uniqueId("l"));d[e]=a,c||"object"!=typeof b||(c=this),a.on(b,c,this)},listenToOnce:function(a,b,c){if("object"==typeof b){for(var d in b)this.listenToOnce(a,d,b[d]);return this}var e=function(){this.stopListening(a,b,e),c.apply(this,arguments)};return e._callback=c,this.listenTo(a,b,e)},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!=typeof b||(c=this),a&&((d={})[a._listenId]=a);for(var f in d)a=d[f],a.off(b,c,this),(e||Utils.isEmpty(a._events))&&delete this._listeningTo[f];return this}};return e.bind=e.on,e.unbind=e.off,e}(),h=function(){function a(){this.handlers=[],"undefined"!=typeof window&&(this.location=window.location,this.history=window.history);var a=this,b=a.checkUrl;a.checkUrl=function(){b.apply(a,arguments)}}var b=/^[#\/]|\s+$/g,c=/^\/+|\/+$/g,d=/#.*$/;return a.started=!1,Utils.extend(a.prototype,g,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.getSearch()},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=decodeURI(this.location.pathname+this.getSearch()),b=this.root.slice(0,-1);return a.indexOf(b)||(a=a.slice(b.length)),"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){return null==a&&(a=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash()),a.replace(b,"")},start:function(b){if(a.started)throw new Error("history has already been started");if(a.started=!0,this.options=Utils.extend({root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(c,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var d=this.root.slice(0,-1)||"/";return this.location.replace(d+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!(this._hasHashChange||!this._wantsHashChange||this._wantsPushState&&this._hasPushState)){var e=document.createElement("iframe");e.src="javascript:0",e.style.display="none",e.tabIndex=-1;var f=document.body;this.iframe=f.insertBefore(e,f.firstChild).contentWindow,this.iframe.document.open().close(),this.iframe.location.hash="#"+this.fragment}var g=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};return this._hasPushState?g("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe?g("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var b=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._hasPushState?b("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe&&b("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),a.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},resetHandlers:function(){this.handlers.length=0},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe)),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),Utils.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(b,c){if(!a.started)return!1;c&&c!==!0||(c={trigger:!!c}),b=this.getFragment(b||"");var e=this.root;(""===b||"?"===b.charAt(0))&&(e=e.slice(0,-1)||"/");var f=e+b;if(b=decodeURI(b.replace(d,"")),this.fragment!==b){if(this.fragment=b,this._hasPushState)this.history[c.replace?"replaceState":"pushState"]({},document.title,f);else{if(!this._wantsHashChange)return this.location.assign(f);this._updateHash(this.location,b,c.replace),this.iframe&&b!==this.getHash(this.iframe)&&(c.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,b,c.replace))}return c.trigger?this.loadUrl(b):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),new a}(),i=function(){function a(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}var b=function(a,b){var c=a||{};b||(b={}),this.attributes={},b.parse&&(c=this.parse(c,b)||{}),c=Utils.defaults({},c,Utils.result(this,"defaults")),this.set(c,b),this.changed={},this.initialize.apply(this,arguments)};return Utils.extend(b.prototype,g,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return Utils.clone(this.attributes)},sync:function(){return Utils.sync.apply(this,arguments)},escape:function(){},get:function(a){return this.attributes[a]},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,h,i,j,k;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,h=c.silent,g=[],i=this._changing,this._changing=!0,i||(this._previousAttributes=Utils.clone(this.attributes),this.changed={}),k=this.attributes,j=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],Utils.isEqual(k[d],b)||g.push(d),Utils.isEqual(j[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete k[d]:k[d]=b;if(!h){g.length&&(this._pending=c);for(var l=0,m=g.length;m>l;l++)this.trigger("change:"+g[l],this,k[g[l]],c)}if(i)return this;if(!h)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,Utils.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,Utils.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!Utils.isEmpty(this.changed):Utils.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?Utils.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)Utils.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return Utils.clone(this._previousAttributes)},fetch:function(b){b=b?Utils.clone(b):{},void 0===b.parse&&(b.parse=!0);var c=this,d=b.success;return b.success=function(a){return c.set(c.parse(a,b),b)?(d&&d(c,a,b),void c.trigger("sync",c,a,b)):!1},a(this,b),this.sync("read",this,b)},save:function(b,c,d){var e,f,g,h=this.attributes;if(null==b||"object"==typeof b?(e=b,d=c):(e={})[b]=c,d=Utils.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=Utils.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=Utils.extend(e||{},b)),Utils.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},a(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"!==f||d.attrs||(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(b){b=b?Utils.clone(b):{};var c=this,d=b.success,e=function(){c.stopListening(),c.trigger("destroy",c,c.collection,b)};if(b.success=function(a){(b.wait||c.isNew())&&e(),d&&d(c,a,b),c.isNew()||c.trigger("sync",c,a,b)},this.isNew())return b.success(),!1;a(this,b);var f=this.sync("delete",this,b);return b.wait||e(),f},url:function(){var a=Utils.result(this,"urlRoot")||Utils.result(this.collection,"url")||urlError();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},Utils.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=Utils.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,Utils.extend(b,{validationError:c})),!1):!0}}),b.extend=e,b}(),j=function(){var a=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this.history=a.history||this.history||h,this._bindRoutes(),this.initialize.apply(this,arguments)},b=/\((.*?)\)/g,d=/(\(\?)?:\w+/g,f=/\*\w+/g,i=/[\-{}\[\]+?.,\\\^$|#\s]/g,j=/[:*](\w+)/g,k=/^(_defaultHandler):(\w+)$/;return Utils.extend(a.prototype,g,{initialize:function(){this.viewClasses={},this.views={},this.currentView=null,this.previousView=null,this.pageOrder=Utils.result(this,"pageOrder")},getHistory:function(){return Utils.result(this,"history")},route:function(a,b,c){Utils.isRegExp(a)||(a=this._routeToRegExp(a)),Utils.isFunction(b)&&(c=b,b="");var d=this._parseSpecialHandler(b);c||(c=this[d.handler||b]);var e=this,f=e.getHistory();return f.route(a,function(g){var h=e._extractParameters(a,g),i=d.action||b;e.execute(c,h,i)!==!1&&(e.trigger.apply(e,["route:"+i].concat(h)),e.trigger("route",i,h),f.trigger("route",e,i,h))}),this},addRoute:function(a,b){var c=this,d={};if(c.routes&&Utils.isString(a))return c.routes[a]?c.routes[a]=b:(d[a]=b,c.routes=Utils.extend(d,c.routes)),c._resetRoutes(),c._bindRoutes(),c},removeRoute:function(a){var b=this;if(b.routes&&Utils.isString(a)&&b.routes[a])return delete b.routes[a],b._resetRoutes(),b._bindRoutes(),b},execute:function(a,b,c){a&&a.apply(this,[c].concat(b))},navigate:function(a,b){return this.getHistory().navigate(a,b),this},start:function(){var a=this.getHistory();return a.start.apply(a,arguments),this},_parseSpecialHandler:function(a){var b,c;return!Utils.isFunction(a)&&k.test(a)&&(b=RegExp.$1,c=RegExp.$2),{handler:b,action:c}},_bindRoutes:function(){if(this.routes){this.routes=Utils.result(this,"routes"),this.paramNames={};for(var a,b=Utils.keys(this.routes);null!=(a=b.pop());){var c=[];a.replace(j,function(a,b){c.push(b)});var d=this.routes[a];Utils.isFunction(d)&&(d="");var e=this._parseSpecialHandler(d);d=e.action||d,/^_defaultHandler[:]?$/.test(d)||(this.paramNames[d]||(this.paramNames[d]=[]),this.paramNames[d].push(c),this.route(a,this.routes[a]))}}},_resetRoutes:function(){this.getHistory().resetHandlers()},_routeToRegExp:function(a){return a=a.replace(i,"\\$&").replace(b,"(?:$1)?").replace(d,function(a,b){return b?a:"([^/?]+)"}).replace(f,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return Utils.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})},_getViewClass:function(a){return this.viewClasses[a]},registerViewClass:function(a,b){return!Utils.isEmpty(a)&&Utils.isFunction(b)?(this.viewClasses[a]=b,this):void 0},pageOrder:[],getPageOrder:function(){return this.pageOrder.slice()},insertPageOrder:function(a,b){var c,d,e,f,g=this.pageOrder;for(b||(b={pos:"LAST"}),f=g.length;f>=0;)g[f]==a&&g.splice(f,1),f--;switch(b.pos){case"FIRST":g.unshift(a);break;case"LAST":g.push(a);break;case"BEFORE":c=!0;case"AFTER":for(d=b.relatedAction,f=0;f<g.length;){if(g[f]==d){e=c?f:f+1;break}f++}break;default:/\d+/.test(b.pos)&&(e=b.pos)}return void 0!==e&&g.splice(e,0,a),this},removePageOrder:function(a){for(var b=this.pageOrder,c=0;c<b.length;)b[c]==a&&b.splice(c,1),c++;return this},pageTransition:{},defaultPageTransition:"simple",registerPageTransition:function(){},_selectParamNames:function(a,b){for(var c=this.paramNames[a],d=0,e=[];d<c.length;){if(c[d].length+1==b.length){e=c[d];break}d++}return e},_defaultHandler:function(){var a=Utils.map(arguments,function(a){return a}),b=a.shift(),c={},d=this._selectParamNames(b,a);if(d.length+1==a.length){for(var e=0;e<d.length;e++)c[d[e]]=a[e];c._query_=a[e]}this.doAction(b,c)},doAction:function(a,b){var c=this,d=c.views[a];if(!d){var e=c._getViewClass(a);d=c.views[a]=new e(b,a,c)}c.previousView=c.currentView,c.currentView=d,c.trigger("routechange",{from:c.previousView,to:c.currentView}),c.switchPage(c.previousView,c.currentView,b)},switchPage:function(a,b,d){var e,f,g=this,h=0,i=Utils.result(g,"pageOrder"),j=a&&a.action||null,k=b&&b.action||null;null!==j&&null!==k&&j!==k&&-1!=(e=i.indexOf(j))&&-1!=(f=i.indexOf(k))&&(h=e>f?2:1),g.enablePositionRestore&&a&&a.savePos(),c.each(a==b?[a]:[a,b],function(a,b){b&&b.trigger("pagebeforechange",{from:g.previousView,to:g.currentView,params:d})}),g.doAnimation(a,b,h,function(){g.enablePositionRestore&&b&&b.restorePos(d),c.each(a==b?[a]:[a,b],function(a,b){b&&b.trigger("pageafterchange",{from:g.previousView,to:g.currentView,params:d})})})},doAnimation:function(a,b,c,d){var e,f=this;(e=f._selectAnimation(a&&a.action||null,b&&b.action||null)||r.get(Utils.result(f,"defaultPageTransition")))(a&&a.el,b&&b.el,c,d)},_selectAnimation:function(a,b){if(null!=a&&null!=b){var c,d=this,e=Utils.result(d,"pageTransition")||{};return c=e[a+"-"+b]||e[b+"-"+a],r.get(c)}}}),a.extend=e,a}(),k=function(){var a=["model","collection","el","id","attributes","className","tagName","events"],b=/^(\S+)\s*(.*)$/,d=function(b){this.cid=Utils.uniqueId("view"),b||(b={}),Utils.extend(this,Utils.pick(b,a)),this._ensureElement(),this.initialize.apply(this,arguments)};return Utils.extend(d.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(a){return this.undelegateEvents(),this._setElement(a),this.delegateEvents(),this},_setElement:function(a){this.$el=a instanceof c?a:c(a),this.el=this.$el[0]},delegateEvents:function(a){if(!a&&!(a=Utils.result(this,"events")))return this;this.undelegateEvents();for(var c in a){var d=a[c];if(Utils.isFunction(d)||(d=this[d]),d){var e=c.match(b),f=this;!function(){var a=d;f.delegate(e[1],e[2],function(){a.apply(f,arguments)})}()}}},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+this.cid,b,c)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c)},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(Utils.result(this,"el"));else{var a=Utils.extend({},Utils.result(this,"attributes"));this.id&&(a.id=Utils.result(this,"id")),this.className&&(a["class"]=Utils.result(this,"className")),this.setElement(this._createElement(Utils.result(this,"tagName"))),this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}}),d.extend=e,d}(),l=k.extend({initialize:function(a,b){var d=this;d.options=c.extend({},a),d._parent=b||null,d._children={},d._length=0,d.ec=d.getRoot(),d.gec=d.ec._router,d.subec=d.getSubEC(),d.featureString=d.getFeatureString(),d.init(a),d._registerEvents(),d.registerEvents()},init:function(){},getRoot:function(){var a,b,c=this;for(a=b=c;a;)b=a,a=a._parent;return b},getSubEC:function(){var a,b,c=this;for(a=b=c;a;){if(a instanceof p)return a;b=a,a=a._parent}return b},getFeatureString:function(a){var b=this,d=a||b.options,e="";return e=c.param(d,!0),a||(b.featureString=e),e},append:function(a,b){return this._addSubview(a,"APPEND",b),this},appendTo:function(a,b,c){return this._addSubview(a,"APPENDTO",c,b),this},prepend:function(a,b){return this._addSubview(a,"PREPEND",b),this},prependTo:function(a,b,c){return this._addSubview(a,"PREPENDTO",c,b),this},setup:function(a,b){return this._addSubview(a,"SETUP",b),this},_addSubview:function(a,b,d,e){var f=this;if(!(a instanceof l))throw new Error("BaseView._addSubview: arguments must be an instance of BaseView");switch(f._children[a.cid]=a,f._length++,a._parent=f,b){case"SETUP":break;case"PREPEND":f.$el.prepend(a.$el);break;case"APPENDTO":c(e).append(a.$el);break;case"PREPENDTO":c(e).prepend(a.$el);break;default:f.$el.append(a.$el)}!d&&a.$el.hide()},remove:function(a){var b=this;a instanceof l?(delete b._children[a.cid],b._length--,a._parent=null,a.$el.remove()):b._parent&&b._parent.remove(b)},firstChild:function(){var a=this;for(var b in a._children)return a._children[b];return null},nextSibling:function(){var a=this,b=a._parent,c=null,d=null;if(!b)return null;for(var e in b._children)if(c=d,d=b._children[e],c==a)return d;return null},prevSibling:function(){var a=this,b=a._parent,c=null,d=null;if(!b)return null;for(var e in b._children)if(c=d,d=b._children[e],d==a)return c;return null},destroy:function(){var a=this;for(var b in a._children)a._children[b].destroy();a._unregisterEvents(),a.unregisterEvents(),a.undelegateEvents(),this.$el.remove(),a.el=a.$el=null,a._parent&&delete a._parent._children[a.cid]},registerEvents:function(){},unregisterEvents:function(){},onorientationchange:function(){},_registerEvents:function(){var a=this,b=a.ec;a._onorientationchange=function(){a.pageOrientationToBe=window.orientation,b.isActivePage()&&a.pageOrientation!=a.pageOrientationToBe&&(a.onorientationchange(a.pageOrientation,a.pageOrientationToBe),a.pageOrientation=a.pageOrientationToBe)},c(window).on("orientationchange",a._onorientationchange),b.on("pagebeforechange",a._onpagebeforechange,a),b.on("pageafterchange",a._onpageafterchange,a)},_unregisterEvents:function(){var a=this,b=a.ec;c(window).off("orientationchange",a._onorientationchange),a.onorientationchange=a.onsubpagebeforechange=a.onsubpageafterchange=function(){},b.off("pagebeforechange",a._onpagebeforechange,a),b.off("pageafterchange",a._onpageafterchange,a)},_onpagebeforechange:function(a){var b=this,c=a.from,d=a.to,e=a.params,f=b.getFeatureString(e),g=b.subpageManager;b.pageOrientation!=b.pageOrientationToBe&&(b.onorientationchange(b.pageOrientation,b.pageOrientationToBe),b.pageOrientation=b.pageOrientationToBe),g&&g._subpages.length&&d==b.ec&&c!=d&&g._currentSubpage&&g._currentSubpage.featureString!=f&&g._currentSubpage.$el.hide()},_onpageafterchange:function(a){var b,d,e=this,f=a.from,g=a.to,h=a.params,i=e.getFeatureString(h),j=e.subpageManager;if(g==e.ec&&j&&j._subpages.length){if(!j.getSubpage(i)){var k=new j._subpageClass(c.extend({},h),e);e.append(k),j.registerSubpage(i,k)}j.setCurrentSubpage(j.getSubpage(i)),b=j._previousSubpage,d=j._currentSubpage,f==g?j.switchSubpage(b,d,a):g==e.ec&&(c.each(b==d?[b]:[b,d],function(b,c){c&&c.onsubpagebeforechange&&c.onsubpagebeforechange(a),c&&c.onsubpageafterchange&&c.onsubpageafterchange(a)}),j.recycleSubpage())}g==e.ec&&e==e.ec&&(e._dynamicOptions=c({},h))},getSubpageManager:function(a){var b,c=this;return(b=c.subpageManager)?b:b=c.subpageManager=new q(a,c)},getSubpageSwitchDir:function(){},tip:function(){Utils.tip.apply(window,arguments)},show:function(){var a=this;setTimeout(function(){a.$el.show()},0)},hide:function(){this.$el.hide()},navigate:function(a,b){this.gec.history.navigate(a,c.extend({trigger:!0},b))}}),m=l.extend({initialize:function(a,b,c){var d=this;if(!b||!Utils.isString(b))throw Error("PageView initialize: action must be an non-empty string");if(!c instanceof j)throw Error("PageView initialize: router must be an instance of Router");d.action=b,d._router=c,d._tops={},d.$el.parent().length||d.$el.appendTo("#wrapper"),d._super(a,null)},isActivePage:function(){return Utils.isReallyDisplay(this.el)},_getDynamicFeatureString:function(a){var b=this;return c.param(a||b._dynamicOptions||b.options,!0)},savePos:function(){var a=this;a._tops[a._getDynamicFeatureString()]=window.scrollY},restorePos:function(a,b){var c=this,d=c._getDynamicFeatureString(a);setTimeout(function(){window.scrollTo(0,c._tops[d]||b||0)},0)}}),n=l.extend({initialize:function(a,b){var c=this;if(!b instanceof l)throw Error("SubView initialize: parent must be an instance of class BaseView");c._super(a,b)}}),o=l.extend({initialize:function(a,b){var c=this;if(!b instanceof j)throw Error("GlobalView initialize: router must be an instance of Router");c.router=c._router=b,b.on("routechange",c._onroutechange,c),c._super.call(c,a,null)},isActivePage:function(){return!1},_onroutechange:function(a){this.trigger("routechange",c.extend({},a))},triggerPageEvent:function(a,b,d){var e,f=this,g=a.split(/\s*,\s*/);c.each(g,function(a,c){e=f.router.views[c],e&&e.trigger(b,d)})},getCurrentAction:function(){return this.router&&this.router.currentView.action||""}}),p=n.extend({initialize:function(a,b){var c=this;if(!b instanceof l)throw Error("SubpageView initialize: parent must be an instance of class BaseView");c._super(a,b)},isActiveSubpage:function(){return Utils.isReallyDisplay(me.el)}}),q=function(a,b){var d=this,e=c.extend({},a);if(!b instanceof l)throw Error("SubPageManager constructor: subPageManagerView must be an instance of class BaseView");d._subpageClass=e.subpageClass||null,d.MAX_SUBPAGES=e.maxSubpages||1,d.subpageTransition=e.subpageTransition||"slide",d.subpageManagerView=b,d._subpages=[],d._currentSubpage=null,d._previousSubpage=null,d.defaultSubpageTransition="simple"};q.prototype={switchSubpage:function(a,b,d){var e=this,f=0;f=e.subpageManagerView.getSubpageSwitchDir?e.subpageManagerView.getSubpageSwitchDir(a,b):e.getSubpageSwitchDir(a,b),c.each(a==b?[a]:[a,b],function(a,b){b.trigger("subpagebeforechange",d)}),e.doSubpageAnimation(a,b,f,function(){c.each(a==b?[a]:[a,b],function(a,b){b&&b.onsubpageafterchange&&b.onsubpageafterchange(d)}),e.recycleSubpage()})},getSubpageSwitchDir:function(a,b){for(var c=this,d=0,e=c._subpages,f=a&&a.getFeatureString()||null,g=b&&b.getFeatureString()||null,h=-1,i=-1,j=0;j<e.length;j++)e[j].name==f&&(h=j),e[j].name==g&&(i=j);return null!==f&&null!==g&&f!==g&&-1!=h&&-1!=i&&(d=h>i?2:1),d},doSubpageAnimation:function(a,b,c,d){var e,f=this;(e=r.get(f.subpageTransition||"simple"))(a&&a.el,b&&b.el,c,d)},registerSubpage:function(a,b){var c=this;c.getSubpage(a)||c._subpages.push({name:a,subpage:b})},getSubpage:function(a){for(var b=this,c=b._subpages,d=0,e=c.length;e>d;d++)if(c[d].name==a)return c[d].subpage},setCurrentSubpage:function(a){var b=this;if(!(a instanceof rocket.baseview))throw Error("error in method setCurrentSubpage: subpage is not an instance of rocket.baseview");a!=b._currentSubpage&&(b._previousSubpage=b._currentSubpage,b._currentSubpage=a)},recycleSubpage:function(){for(var a,b=this,c=b._subpages;c.length>b.MAX_SUBPAGES;)a=c.shift(),a.subpage==b._currentSubpage?b._subpages.push(a):a.subpage.destroy()}},q.extend=e;var r=function(){function a(a,b){if(!Utils.isString(a)||0==a.length)throw Error("registerAnimation: name must be non-empty string");if(!Utils.isFunction(b))throw Error("registerAnimation: func must be function");e[a]=b}function b(a){return e[a]}function d(a,b,d,e,g){function h(){k=!0,m.hide().attr("class",m.data("original-classes")||null).off("webkitAnimationEnd"),l.attr("class",l.data("original-classes")||null).off("webkitAnimationEnd"),f=!1,g&&g()}for(var i,j,k,l=c(a),m=c(b);f;)lastAnimationCleanUp&&lastAnimationCleanUp();f=!0,lastAnimationCleanUp=h,i=j=!1,k=!1,m.data("original-classes",m.attr("class")).addClass(e).on("webkitAnimationEnd",function(){i=!0,j&&h()}),l.data("original-classes",l.attr("class")).addClass(d).on("webkitAnimationEnd",function(){j=!0,i&&h()})[0].style.display="block",setTimeout(function(){k||h()},2e3)}var e={},f=!1;
return{register:a,get:b,pageTransition:d}}();return function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),e&&e()}r.register("simple",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToLeft",i="pt-page-moveFromRight";2==d&&(h="pt-page-moveToRight",i="pt-page-moveFromLeft"),r.pageTransition(b,a,i,h,e)}r.register("slideLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToTop",i="pt-page-moveFromBottom";2==d&&(h="pt-page-moveToBottom",i="pt-page-moveFromTop"),r.pageTransition(b,a,i,h,e)}r.register("slideTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToLeftFade",i="pt-page-moveFromRightFade";2==d&&(h="pt-page-moveToRightFade",i="pt-page-moveFromLeftFade"),r.pageTransition(b,a,i,h,e)}r.register("slidefadeLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToTopFade",i="pt-page-moveFromBottomFade";2==d&&(h="pt-page-moveToBottomFade",i="pt-page-moveFromTopFade"),r.pageTransition(b,a,i,h,e)}r.register("slidefadeTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-fade",i="pt-page-moveFromRight pt-page-ontop";2==d&&(h="pt-page-fade",i="pt-page-moveFromLeft pt-page-ontop"),r.pageTransition(b,a,i,h,e)}r.register("fadeslideLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-fade",i="pt-page-moveFromBottom pt-page-ontop";2==d&&(h="pt-page-fade",i="pt-page-moveFromTop pt-page-ontop"),r.pageTransition(b,a,i,h,e)}r.register("fadeslideTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToLeftEasing pt-page-ontop",i="pt-page-moveFromRight";2==d&&(h="pt-page-moveToRightEasing pt-page-ontop",i="pt-page-moveFromLeft"),r.pageTransition(b,a,i,h,e)}r.register("slideeasingLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToTopEasing pt-page-ontop",i="pt-page-moveFromBottom";2==d&&(h="pt-page-moveToBottomEasing pt-page-ontop",i="pt-page-moveFromTop"),r.pageTransition(b,a,i,h,e)}r.register("slideeasingTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToLeft pt-page-ontop",i="pt-page-scaleUp";2==d&&(h="pt-page-moveToRight pt-page-ontop",i="pt-page-scaleUp"),r.pageTransition(b,a,i,h,e)}r.register("slidescaleupLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToTop pt-page-ontop",i="pt-page-scaleUp";2==d&&(h="pt-page-moveToBottom pt-page-ontop",i="pt-page-scaleUp"),r.pageTransition(b,a,i,h,e)}r.register("slidescaleupTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-scaleDown",i="pt-page-moveFromRight pt-page-ontop";2==d&&(h="pt-page-scaleDown",i="pt-page-moveFromLeft pt-page-ontop"),r.pageTransition(b,a,i,h,e)}r.register("scaledownslideLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-scaleDown",i="pt-page-moveFromBottom pt-page-ontop";2==d&&(h="pt-page-scaleDown",i="pt-page-moveFromTop pt-page-ontop"),r.pageTransition(b,a,i,h,e)}r.register("scaledownslideTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-flipOutLeft",i="pt-page-flipInRight pt-page-delay500";2==d&&(h="pt-page-flipOutRight",i="pt-page-flipInLeft pt-page-delay500"),r.pageTransition(b,a,i,h,e)}r.register("flipLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-flipOutTop",i="pt-page-flipInBottom pt-page-delay500";2==d&&(h="pt-page-flipOutBottom",i="pt-page-flipInTop pt-page-delay500"),r.pageTransition(b,a,i,h,e)}r.register("flipTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-scaleDown",i="pt-page-scaleUpDown pt-page-delay300";r.pageTransition(b,a,i,h,e)}r.register("scaledownscaleupdown",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-scaleDownUp",i="pt-page-scaleUp pt-page-delay300";r.pageTransition(b,a,i,h,e)}r.register("scaledownupscaleup",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateFall pt-page-ontop",i="pt-page-scaleUp";r.pageTransition(b,a,i,h,e)}r.register("rotatefallscaleup",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateOutNewspaper",i="pt-page-rotateInNewspaper pt-page-delay500";r.pageTransition(b,a,i,h,e)}r.register("rotatenewspaper",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateSlideOut",i="pt-page-rotateSlideIn";r.pageTransition(b,a,i,h,e)}r.register("rotateslide",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateSlideOut",i="pt-page-rotateSlideIn pt-page-delay200";r.pageTransition(b,a,i,h,e)}r.register("rotateslidedelay",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-scaleDownCenter",i="pt-page-scaleUpCenter pt-page-delay400";r.pageTransition(b,a,i,h,e)}r.register("scaledowncenterscaleupcenter",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateRightSideFirst",i="pt-page-moveFromRight pt-page-delay200 pt-page-ontop";2==d&&(h="pt-page-rotateLeftSideFirst",i="pt-page-moveFromLeft pt-page-delay200 pt-page-ontop"),r.pageTransition(b,a,i,h,e)}r.register("rotateslideLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateBottomSideFirst",i="pt-page-moveFromBottom pt-page-delay200 pt-page-ontop";2==d&&(h="pt-page-rotateTopSideFirst",i="pt-page-moveFromTop pt-page-delay200 pt-page-ontop"),r.pageTransition(b,a,i,h,e)}r.register("rotateslideTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotatePushLeft",i="pt-page-moveFromRight";2==d&&(h="pt-page-rotatePushRight",i="pt-page-moveFromLeft"),r.pageTransition(b,a,i,h,e)}r.register("rotatepushslideLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotatePushTop",i="pt-page-moveFromBottom";2==d&&(h="pt-page-rotatePushBottom",i="pt-page-moveFromTop"),r.pageTransition(b,a,i,h,e)}r.register("rotatepushslideTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateRoomLeftOut pt-page-ontop",i="pt-page-rotateRoomLeftIn";2==d&&(h="pt-page-rotateRoomRightOut pt-page-ontop",i="pt-page-rotateRoomRightIn"),r.pageTransition(b,a,i,h,e)}r.register("rotateroomLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateRoomTopOut pt-page-ontop",i="pt-page-rotateRoomTopIn";2==d&&(h="pt-page-rotateRoomBottomOut pt-page-ontop",i="pt-page-rotateRoomBottomIn"),r.pageTransition(b,a,i,h,e)}r.register("rotateroomTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateCubeLeftOut pt-page-ontop",i="pt-page-rotateCubeLeftIn";2==d&&(h="pt-page-rotateCubeRightOut pt-page-ontop",i="pt-page-rotateCubeRightIn"),r.pageTransition(b,a,i,h,e)}r.register("rotatecubeLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateCubeTopOut pt-page-ontop",i="pt-page-rotateCubeTopIn";2==d&&(h="pt-page-rotateCubeBottomOut pt-page-ontop",i="pt-page-rotateCubeBottomIn"),r.pageTransition(b,a,i,h,e)}r.register("rotatecubeTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateCarouselLeftOut pt-page-ontop",i="pt-page-rotateCarouselLeftIn";2==d&&(h="pt-page-rotateCarouselRightOut pt-page-ontop",i="pt-page-rotateCarouselRightIn"),r.pageTransition(b,a,i,h,e)}r.register("rotatecarouselLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateCarouselTopOut pt-page-ontop",i="pt-page-rotateCarouselTopIn";2==d&&(h="pt-page-rotateCarouselBottomOut pt-page-ontop",i="pt-page-rotateCarouselBottomIn"),r.pageTransition(b,a,i,h,e)}r.register("rotatecarouselTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateFoldLeft",i="pt-page-moveFromRightFade";2==d&&(h="pt-page-rotateFoldRight",i="pt-page-moveFromLeftFade"),r.pageTransition(b,a,i,h,e)}r.register("rotatefoldmovefadeLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-rotateFoldTop",i="pt-page-moveFromBottomFade";2==d&&(h="pt-page-rotateFoldBottom",i="pt-page-moveFromTopFade"),r.pageTransition(b,a,i,h,e)}r.register("rotatefoldmovefadeTB",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToLeftFade",i="pt-page-rotateUnfoldRight";2==d&&(h="pt-page-moveToRightFade",i="pt-page-rotateUnfoldLeft"),r.pageTransition(b,a,i,h,e)}r.register("movefaderotateunfoldLR",a)}(),function(){function a(a,b,d,e){var f=a&&c(a),g=b&&c(b);if(0==d)return a!=b&&(a&&f.hide(),setTimeout(function(){b&&g.show()},0)),void(e&&e());var h="pt-page-moveToTopFade",i="pt-page-rotateUnfoldBottom";2==d&&(h="pt-page-moveToBottomFade",i="pt-page-rotateUnfoldTop"),r.pageTransition(b,a,i,h,e)}r.register("movefaderotateunfoldTB",a)}(),Utils.extend(b,{Events:g,Model:i,View:k,History:h,Router:j,Utils:Utils,extend:e,PageView:m,SubView:n,GlobalView:o,SubpageView:p,SubpageManager:q,Animation:r}),b});